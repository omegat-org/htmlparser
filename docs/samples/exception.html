<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Exception Handling in the Parser</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>

<body>
<p><strong>Exception Handling in the Parser</strong> </p>
<p>HTMLParser uses chained exceptions to report errors. Layers of exception all 
  float back right to the calling place, giving a wealth of information about 
  what went wrong.</p>
<p>The main exception class is HTMLParserException.
  <!-- ======================================================== -->
  <!-- = Java Sourcecode to HTML automatically converted code = -->
  <!-- =   J2H V2.0  2002 by Markus Gebhard  markus@jave.de   = -->
  <!-- =     Further information: http://www.java2html.de     = -->
</p>

<center>
 <table  align="center" border="2" cellpadding="3" cellspacing="0" bgcolor="#FFFBF0">
   <tr>
  <!-- start line numbers -->
   <td align="right" valign="top">
    <code>
     <font color="#808080">
1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>
   </font>
    </code>
   </td>
  <!-- end line numbers -->
  <!-- start source code -->
   <td valign="top">
    <code>
<font color="#c0c0c0">&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000c0">try&nbsp;</font><font color="#000000">{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">HTMLParser&nbsp;parser&nbsp;=&nbsp;</font><font color="#0000c0">new&nbsp;</font><font color="#000000">HTMLParser</font><font color="#000000">(</font><font color="#990000">&#34;http://www.yahoo.com&#34;</font><font color="#000000">,new&nbsp;DefaultHTMLParserFeedback</font><font color="#000000">())</font><font color="#000000">;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parser.registerScanners</font><font color="#000000">()</font><font color="#000000">;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parser.parse</font><font color="#000000">(</font><font color="#0000c0">null</font><font color="#000000">)</font><font color="#000000">;<br>
&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}<br>
&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000c0">catch&nbsp;</font><font color="#000000">(</font><font color="#000000">HTMLParserException&nbsp;e</font><font color="#000000">)&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">e.printStackTrace</font><font color="#000000">()</font><font color="#000000">;<br>
&nbsp;&nbsp;&nbsp;&nbsp;}</font></code>
    
   </td>
  </tr>
  <!-- end source code -->
  <!-- start J2H link -->
   <tr>
    <td colspan=2 align=right>
<small>
<a href="http://www.java2html.de" target="_blank">Java2html</a>
</small>
    </td>
   </tr>
  <!-- end J2H link -->
 </table>
</center>
<!-- =       END of automatically generated HTML code       = -->
<!-- ======================================================== -->
<p>This is the standard usage of HTMLParserException when writing a sample app 
  with the parser. Here is a typical example of an exception :</p>
<p><font color="#FF0000" size="2" face="Courier New, Courier, mono">org.htmlparser.util.HTMLParserException: 
  Unexpected Exception occurred in HTMLParser.hasMoreNodes()null, in nextHTMLNode<br>
  at Line 3 : null<br>
  Previous Line 2 : &lt;TITLE&gt;KRP VALIDATION&lt;PROCESS/TITLE&gt;;<br>
  org.htmlparser.util.HTMLParserException: HTMLReader.readElement() : Error occurred 
  while trying to read the next element,<br>
  at Line 3 : null<br>
  Previous Line 2 : &lt;TITLE&gt;KRP VALIDATION&lt;PROCESS/TITLE&gt;;<br>
  org.htmlparser.util.HTMLParserException: HTMLReader.readElement() : Error occurred 
  while trying to decipher the tag using scanners<br>
  at Line 3 : null<br>
  Previous Line 2 : &lt;TITLE&gt;KRP VALIDATION&lt;PROCESS/TITLE&gt;;<br>
  org.htmlparser.util.HTMLParserException: HTMLTag.scan() : Error while scanning 
  tag, tag contents = TITLE, tagLine = &lt;TITLE&gt;KRP VALIDATION&lt;PROCESS/TITLE&gt;;<br>
  org.htmlparser.util.HTMLParserException: HTMLTitleTagScanner.scan() : Error 
  in scanning TitleTag, currentLine = &lt;TITLE&gt;KRP VALIDATION&lt;PROCESS/TITLE&gt;;<br>
  org.htmlparser.util.HTMLParserException: HTMLTitleScanner.scan(): Error while 
  scanning title tag, went into a potential infinite loop, currentLine = &lt;TITLE&gt;KRP 
  VALIDATION&lt;PROCESS/TITLE&gt;, title so far = KRP VALIDATION<br>
  at org.htmlparser.scanners.HTMLTitleScanner.scan(HTMLTitleScanner.java:94)<br>
  at org.htmlparser.scanners.HTMLTagScanner.createScannedNode(HTMLTagScanner.java:190)<br>
  at org.htmlparser.tags.HTMLTag.scan(HTMLTag.java:235)<br>
  at org.htmlparser.HTMLReader.readElement(HTMLReader.java:172)<br>
  at org.htmlparser.HTMLParser$1.hasMoreNodes(HTMLParser.java:257)<br>
  at org.htmlparser.tests.scannersTests.HTMLTitleScannerTest.testNoEndTitleTag(HTMLTitleScannerTest.java:158</font><br>
  ...</p>
<p>As is evident from this report, the problem can be seen in the incorrectly 
  ended title tag. As you can see, the list of errors gets more and more specific, 
  as we go along (with the HTMLParserExceptions), finally ending in HTMLTitleScanner.scan() 
  - which is the location of the crash.</p>
<p>Chained exceptions are primarily used to help in debugging. This is because, 
  in ordinary exceptions, we don't get to see information at each step, except 
  the one that actually threw the exception. Such information can be really useful 
  to see the flow of logic leading to the error.</p>
<p>Chained exceptions are supported in JDK 1.4, but as this parser is compatible 
  with JDK 1.1, we have our own ChainedException class.</p>
<p><a href="index.html">Back to Samples</a><br>
  <a href="../index.html">Back to HTMLParser Home Page</a></p>
</body>
</html>
