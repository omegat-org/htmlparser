<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Extracting Images Within Links</title>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
</head>

<body>
<p><strong>Extracting Images Within Links</strong></p>
<p>Images that are embedded within links can be extracted using the parser in 
  one of two ways :</p>
<p>[1] Get the link tag, and use linkData() to pick up an enumeration of objects 
  within it - which could be images or anything else.<br>
  [2] Register only the HTMLImageScanner, and get the images out uniformly</p>
<p>Use approach #1 when you must also deal with links. Use approach #2 when you 
  are only after images and dont care about links. Remember that approach #2 relies 
  on the fact that you do <strong>NOT</strong> have a link scanner registered. 
</p>

<!-- ======================================================== -->
<!-- = Java Sourcecode to HTML automatically converted code = -->
<!-- =   J2H V2.0  2002 by Markus Gebhard  markus@jave.de   = -->
<!-- =     Further information: http://www.java2html.de     = -->
<center>
 <table  align="center" border="2" cellpadding="3" cellspacing="0" bgcolor="#FFFBF0">
   <tr>
  <!-- start line numbers -->
   <td align="right" valign="top">
    <code>
     <font color="#808080">
1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>
11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>
   </font>
    </code>
   </td>
  <!-- end line numbers -->
  <!-- start source code -->
   <td valign="top">
    <code>
<font color="#000000">HTMLParser parser= new HTMLParser</font><font color="#000000">(</font><font color="#990000">&#34;http://www.yahoo.com&#34;</font><font color="#000000">)</font><font color="#000000">;<br>
parser.registerScanners</font><font color="#000000">()</font><font color="#000000">;<br>
HTMLNode&nbsp;node,nodeInsideLink;<br>
HTMLLinkTag&nbsp;linkTag;<br>
HTMLImageTag&nbsp;imageTag;<br>
for </font><font color="#000000">(</font><font color="#000000">HTMLEnumeration e=parser.elements</font><font color="#000000">()</font><font color="#000000">;e.hasMoreNodes</font><font color="#000000">()</font><font color="#000000">;</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{<br>
&nbsp;&nbsp;</font><font color="#000000">node = e.nextElement</font><font color="#000000">()</font><font color="#000000">;<br>
 &nbsp;&nbsp;if </font><font color="#000000">(</font><font color="#000000">node instanceof HTMLLinkTag</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{<br>
&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">linkTag&nbsp;=&nbsp;</font><font color="#000000">(</font><font color="#000000">HTMLLinkTag</font><font color="#000000">)</font><font color="#000000">node;<br>
&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000c0">for&nbsp;</font><font color="#000000">(</font><font color="#000000">Enumeration&nbsp;linkEnum&nbsp;=&nbsp;linkTag.linkData</font><font color="#000000">()</font><font color="#000000">;linkEnum.hasMoreElements</font><font color="#000000">()</font><font color="#000000">;</font><font color="#000000">)&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">nodeInsideLink&nbsp;=&nbsp;</font><font color="#000000">(</font><font color="#000000">HTMLNode</font><font color="#000000">)</font><font color="#000000">linkEnum.nextElement</font><font color="#000000">()</font><font color="#000000">;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000c0">if&nbsp;</font><font color="#000000">(</font><font color="#000000">nodeInsideLink&nbsp;</font><font color="#0000c0">instanceof&nbsp;</font><font color="#000000">HTMLImageTag</font><font color="#000000">)&nbsp;{<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">imageTag&nbsp;=&nbsp;</font><font color="#000000">(</font><font color="#000000">HTMLImageTag</font><font color="#000000">)</font><font color="#000000">nodeInsideLink;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#008000">//&nbsp;Process&nbsp;Image&nbsp;Tag<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#000000">}<br>
&nbsp;&nbsp;&nbsp;&nbsp;}<br>
&nbsp;&nbsp;}<br>
}&nbsp;</font></code>
    
   </td>
  </tr>
  <!-- end source code -->
  <!-- start J2H link -->
   <tr>
    <td colspan=2 align=right>
<small>
<a href="http://www.java2html.de" target="_blank">Java2html</a>
</small>
    </td>
   </tr>
  <!-- end J2H link -->
 </table>
</center>
<!-- =       END of automatically generated HTML code       = -->
<!-- ======================================================== -->

<p>This is approach #1, doing it the proper way. linkTag is the HTMLLinkTag that 
  has been received from an outer for loop (running on parser.elements()). A second 
  loop is needed to parse through the contents of HTMLLinkTag (the tags that are 
  enclosed by the link tags). This is of course <strong>distinctly different </strong>from 
  getting the data of the link itself (which is available through getLink() and 
  getLinkText()). Note that for the above to work, you must make the call to registerScanners() 
  as shown in Line 2 (which you would normally do), or at least ensure that HTMLImageScanner() 
  and HTMLLinkScanner() are registered. 
  <!-- ======================================================== -->
  <!-- = Java Sourcecode to HTML automatically converted code = -->
  <!-- =   J2H V2.0  2002 by Markus Gebhard  markus@jave.de   = -->
  <!-- =     Further information: http://www.java2html.de     = -->
</p>
<center>
 <table  align="center" border="2" cellpadding="3" cellspacing="0" bgcolor="#FFFBF0">
   <tr>
  <!-- start line numbers -->
   <td align="right" valign="top">
    <code>
     <font color="#808080">
1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>

   </font>
    </code>
   </td>
  <!-- end line numbers -->
  <!-- start source code -->
   <td valign="top">
    <code>
<font color="#000000">HTMLParser parser= new HTMLParser</font><font color="#000000">(</font><font color="#990000">&#34;http://www.yahoo.com&#34;</font><font color="#000000">)</font><font color="#000000">;<br>
parser.addScanner</font><font color="#000000">(</font><font color="#000000">new HTMLImageScanner</font><font color="#000000">(</font><font color="#990000">&#34;i&#34;</font><font color="#000000">))</font><font color="#000000">;<br>
HTMLNode&nbsp;node;<br>
for </font><font color="#000000">(</font><font color="#000000">HTMLEnumeration e=parser.elements</font><font color="#000000">()</font><font color="#000000">;e.hasMoreNodes</font><font color="#000000">()</font><font color="#000000">;</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{<br>
</font><font color="#000000">  node = e.nextElement</font><font color="#000000">()</font><font color="#000000">;<br>
  if </font><font color="#000000">(</font><font color="#000000">node instanceof HTMLImageTag</font><font color="#000000">)</font><font color="#000000"> </font><font color="#000000">{<br>
</font><font color="#000000">    imageTag = </font><font color="#000000">(</font><font color="#000000">HTMLImageTag</font><font color="#000000">)</font><font color="#000000">node;<br>
            </font><font color="#008000">// Process Image Tag<br>
</font><font color="#000000">  </font><font color="#000000">}<br>
}&nbsp;</font></code>
    
   </td>
  </tr>
  <!-- end source code -->
  <!-- start J2H link -->
   <tr>
    <td colspan=2 align=right>
<small>
<a href="http://www.java2html.de" target="_blank">Java2html</a>
</small>
    </td>
   </tr>
  <!-- end J2H link -->
 </table>
</center>
<!-- =       END of automatically generated HTML code       = -->
<!-- ======================================================== -->

<p>This is the second way of getting image objects - if you are only interested 
  in image tags and nothing else. Simply register the image scanner as the lone 
  scanner. </p>
<p><a href="index.html">Back to Samples</a><br>
  <a href="../index.html">Back to HTMLParser Home Page</a></p>
</body>
</html>
